(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,,function(e,t,a){e.exports=a.p+"static/media/check.c4e0b8fe.svg"},function(e,t,a){e.exports=a.p+"static/media/calendar.1082d5d5.svg"},function(e,t,a){e.exports=a.p+"static/media/clock.4b0f830c.svg"},function(e,t,a){e.exports=a.p+"static/media/place.d546ec00.svg"},function(e,t,a){e.exports=a.p+"static/media/money.5b362d7b.svg"},,function(e,t,a){e.exports=a(22)},,,,,,function(e,t,a){},,,function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(5),l=a.n(r),i=(a(19),a(3)),o=a.n(i),u=a(6),s=a(12),m=a(2),d=a(1),p=a.n(d),f=function(e,t){switch(t.type){case"PURCHASES_HISTORY":return b(e,t.payload);default:return e}},b=function(e,t){var a=t.events.reduce(v,{purchase:[],product:[]}),n=N(a).sort(_);return Object(m.a)({},e,{purchases:n})},v=function(e,t){return"comprou-produto"===t.event?e.product.push(E(t)):"comprou"===t.event&&e.purchase.push(h(t)),Object(m.a)({},e)},E=function(e){var t=e.timestamp,a=e.custom_data;return{id:y(a,"transaction_id"),timeStamp:p()(t),price:y(a,"product_price"),name:y(a,"product_name")}},h=function(e){var t=e.timestamp,a=e.revenue,n=e.custom_data;return{id:y(n,"transaction_id"),timeStamp:p()(t),store:y(n,"store_name"),revenue:a}},y=function(e,t){var a=e.find(function(e){return e.key===t});return a?a.value:null},N=function(e){var t=e.purchase,a=e.product;return t.map(function(e){return Object(m.a)({},e,{products:a.filter(function(t){return t.id===e.id})})})},_=function(e,t){return p.a.utc(t.timeStamp).diff(p.a.utc(e.timeStamp))},S=function(e){return{type:"PURCHASES_HISTORY",payload:e}},g=a(7),w=a.n(g),j=function(e){var t=e.children,a=e.cardStyle,n=void 0===a?"":a,r=e.childrenStyle,l=void 0===r?"":r;return c.a.createElement("div",{className:"card ".concat(n)},c.a.createElement("div",{className:"card__body ".concat(l)},t))},k=new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}),x=function(e){var t=e.product,a=t.price,n=t.name;return c.a.createElement("tr",{key:n},c.a.createElement("td",{className:"table-body-cell"},n),c.a.createElement("td",null),c.a.createElement("td",null),c.a.createElement("td",{className:"table-body-cell"},k.format(a)))},O=function(e){var t=e.icon,a=e.title;return c.a.createElement("th",{className:"table-head-cell"},c.a.createElement("img",{className:"table-head-cell__img",src:t,alt:a}),c.a.createElement("span",{className:"table-head-cell__title"}," ",a))},R=a(8),Y=a.n(R),I=a(9),H=a.n(I),P=a(10),B=a.n(P),C=a(11),L=a.n(C),A=function(e){var t=e.purchase,a=(t.id,t.timeStamp),n=t.store,r=t.revenue,l=t.products;return c.a.createElement("table",{className:"table-container"},c.a.createElement("thead",{className:"table-header"},c.a.createElement("tr",null,c.a.createElement(O,{icon:Y.a,title:a.format("DD/MM/YYYY")}),c.a.createElement(O,{icon:H.a,title:a.format("hh:mm")}),c.a.createElement(O,{icon:B.a,title:n}),c.a.createElement(O,{icon:L.a,title:k.format(r)})),c.a.createElement("tr",null,c.a.createElement("th",{className:"table-body-cell table-body-cell--title-bold"},"Produto"),c.a.createElement("th",null),c.a.createElement("th",null),c.a.createElement("th",{className:"table-body-cell  table-body-cell--title-bold"},"Pre\xe7o"))),c.a.createElement("tbody",{className:"table-body table-row-align-left"},l&&l.map(function(e){return c.a.createElement(x,{product:e})})))};function D(e){var t=e.purchaseList.purchases;return c.a.createElement("div",{className:"timeline-container"},t.map(function(e){return c.a.createElement("div",{className:"timeline__item",key:e.id},c.a.createElement("img",{className:"timeline-badge",src:w.a,alt:"Checked Icon"}),c.a.createElement(j,{cardStyle:"card--animation-slide",childrenStyle:"card--indicator"},c.a.createElement(A,{purchase:e})))}))}var J=function(){var e=Object(n.useReducer)(f),t=Object(s.a)(e,2),a=t[0],r=t[1];return Object(n.useEffect)(function(){!function(){var e=Object(u.a)(o.a.mark(function e(){var t,a;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://storage.googleapis.com/dito-questions/events.json");case 2:return t=e.sent,e.next=5,t.json();case 5:a=e.sent,r(S(a));case 7:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()()},[]),c.a.createElement("div",{className:"main-container"},a&&c.a.createElement(D,{purchaseList:a}))};l.a.render(c.a.createElement(J,null),document.getElementById("root"))}],[[13,1,2]]]);
//# sourceMappingURL=main.245edf22.chunk.js.map